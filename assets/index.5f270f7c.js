var R=Object.defineProperty,j=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var A=(n,r,t)=>r in n?R(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,E=(n,r)=>{for(var t in r||(r={}))G.call(r,t)&&A(n,t,r[t]);if(S)for(var t of S(r))J.call(r,t)&&A(n,t,r[t]);return n},I=(n,r)=>j(n,w(r));import{j as c,T as P,a as e,L as U,c as $,b as K,r as u,d as Y,C as H,e as Q,B as M,A as X,f as Z,g as _,G as m,h as F,F as v,I as x,S as y,M as C,i as L,R as ee,k as ae}from"./vendor.2d229446.js";const re=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&p(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function p(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};re();var oe="/assets/icon.9b85654d.jpg";const te=[{key:"monofasico",value:"Monof\xE1sico"},{key:"bifasico",value:"Bif\xE1sico"},{key:"trifasico",value:"Trif\xE1sico"}],ne=[{key:"residencial",value:"Residencial"},{key:"industrial",value:"Industrial"},{key:"comercial",value:"Comercial"},{key:"rural",value:"Rural"},{key:"poderPublico",value:"Poder P\xFAblico"}],ie=[{key:"azul",value:"Azul"},{key:"branca",value:"Branca"},{key:"verde",value:"Verde"},{key:"convencional",value:"Convencional"}],le=n=>c(P,I(E({variant:"body2",color:"text.secondary",align:"center"},n),{children:["Copyright \xA9 ",e(U,{color:"inherit",href:"https://github.com/gabrielJGS",children:"Gabriel Jos\xE9"})," ",new Date().getFullYear(),"."]})),se=$();function ue(){const n=K.create({baseURL:"https://lemon-backend-gjs.herokuapp.com"}),[r,t]=u.exports.useState(!1),[p,o]=u.exports.useState(""),[i,h]=u.exports.useState(""),[b,B]=u.exports.useState(""),[D,N]=u.exports.useState(""),[d,T]=u.exports.useState([""]),[k,f]=u.exports.useState(""),[O,g]=u.exports.useState("success"),V=async a=>{if(a.preventDefault(),r)return;if(d.length<3){g("error"),f("Por favor, preencha o valor de ao menos 3 contas de luz");return}t(!0);const s={numeroDoDocumento:p,tipoDeConexao:i,classeDeConsumo:b,modalidadeTarifaria:D,historicoDeConsumo:d.map(l=>parseFloat(l))};await n.post("/elegibilidade",s).then(l=>{console.log(l),l.data.elegivel?(g("success"),f(`Parab\xE9ns, voc\xEA foi aceito para ser um cliente Lemon!
Voc\xEA economizar\xE1 por volta de ${l.data.economiaAnualDeCO2} de CO2 anualmente!`)):(g("error"),f(l.data.razoesDeInelegibilidade.map(z=>z+`
`))),t(!1)}).catch(l=>{g("error"),f(l.message),t(!1)})};let W=(a,s)=>{let l=[...d];l[a]=s.target.value,T(l)},q=()=>{T([...d,""])};return e(Y,{theme:se,children:c(H,{component:"main",maxWidth:"xs",children:[e(Q,{}),c(M,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e(X,{alt:"Lemon Energy",src:oe}),e(P,{component:"h1",variant:"h5",style:{textAlign:"center"},children:"Sua conta de luz pode redefinir o futuro."}),"Descubra uma nova forma de consumir energia",r?e(Z,{color:"success"}):null,k?e(_,{style:{whiteSpace:"pre-line"},severity:O,children:k}):null,c(M,{component:"form",onSubmit:V,sx:{mt:3},children:[c(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,children:e(F,{name:"numeroDoDocumento",required:!0,fullWidth:!0,id:"numeroDoDocumento",label:"N\xFAmero do CPF/CNPJ",value:p,onChange:a=>{o(a.target.value)},autoFocus:!0})}),e(m,{item:!0,xs:12,children:c(v,{fullWidth:!0,children:[e(x,{id:"inputTipoDeConexao",children:"Tipo de conex\xE3o"}),e(y,{labelId:"inputTipoDeConexao",id:"inputTipoDeConexao",value:i,label:"inputTipoDeConexao",required:!0,onChange:a=>h(a.target.value),children:te.map(a=>e(C,{value:a.key,children:a.value},a.key))})]})}),e(m,{item:!0,xs:12,children:c(v,{fullWidth:!0,children:[e(x,{id:"inputClasseDeConsumo",children:"Classe de consumo"}),e(y,{labelId:"inputClasseDeConsumo",id:"inputClasseDeConsumo",value:b,label:"inputClasseDeConsumo",required:!0,onChange:a=>B(a.target.value),children:ne.map(a=>e(C,{value:a.key,children:a.value},a.key))})]})}),e(m,{item:!0,xs:12,children:c(v,{fullWidth:!0,children:[e(x,{id:"inputModalidadeTarifaria",children:"Modalidade Tarif\xE1ria"}),e(y,{labelId:"inputModalidadeTarifaria",id:"inputModalidadeTarifaria",value:D,label:"inputModalidadeTarifaria",required:!0,onChange:a=>N(a.target.value),children:ie.map(a=>e(C,{value:a.key,children:a.value},a.key))})]})}),d.map((a,s)=>e(m,{item:!0,xs:12,children:e(F,{required:!0,fullWidth:!0,label:s==0?"Valor da tarifa do m\xEAs atual":`Valor da tarifa de ${s} meses atr\xE1s`,name:"value",value:a||"",onChange:l=>W(s,l),InputProps:s+1==d.length&&s<12?{endAdornment:e(L,{onClick:()=>{s<12&&q()},variant:"contained",children:"Adicionar"})}:{endAdornment:null}})},s))]}),e(L,{type:"submit",fullWidth:!0,variant:"contained",color:"success",sx:{mt:3,mb:2},children:"Enviar"})]})]}),e(le,{sx:{mt:5}})]})})}ee.render(e(ae.StrictMode,{children:e(ue,{})}),document.getElementById("root"));
